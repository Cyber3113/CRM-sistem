<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crm - loyiha</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/tasks.css">
    <!-- icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
          integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
        <a class="navbar-brand" href="./index.html">
            <img src="../images/milliycrm-logo.png" alt="logo" width="130px">
        </a>
        <button class="btn btn-dark mb-3" id="sidebar-toggler">
            <i class="fas fa-bars"></i>
        </button>

        <div class="d-flex align-items-center">
            <div class="language-switcher">
                <img id="flagIcon" src="https://flagcdn.com/w40/uz.png" alt="UZ Flag">
                <select id="languageSwitcher">
                    <option value="uz" data-flag="https://flagcdn.com/w40/uz.png">Lotincha</option>
                    <option value="ru" data-flag="https://flagcdn.com/w40/ru.png">Крилча</option>
                    <option value="eng" data-flag="https://flagcdn.com/w40/eng.png">Inglizcha</option>
                </select>
            </div>
            <a href="../pages/profile.html" class="profile">
                <i class="fas fa-user"></i>
                <span class="name">Kholmatov</span>
                <span class="last-name"> Amriddin</span>
            </a>
            <button class="btn btn-light border-0" id="darkModeToggle">
                <i class="fas fa-moon" id="darkModeIcon"></i>
            </button>
        </div>
    </div>
</nav>

<!-- Sidebar -->
<div class="vh-100 d-flex flex-column" id="sidebar">

    <a class="navbar-logos" href="../../index.html">
        <img src="../images/milliycrm-logo.png" alt="logo" width="130px">
    </a>

    <ul class="nav flex-column flex-grow-1">
        <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="Dashboard">
            <a href="../../index.html" class="nav-link">
                <i class="fa-solid fa-chart-simple"></i> <span style="margin-left: 10px;"> Dashboard</span>
            </a>
        </li>
        <li class="nav-item" data-bs-toggle="tooltip" data-bs-placement="right" title="Buxgalteriya">
            <a href="../pages/accounting.html" class="nav-link">
                <i class="fa-solid fa-calculator"></i> <span style="margin-left: 10px;"> Buxgalteriya</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="../pages/debts.html" class="nav-link" data-bs-toggle="tooltip" data-bs-placement="right"
               title="Qarzlar">
                <i class="fa-solid fa-money-bill-transfer"></i> <span style="margin-left: 10px;"> Qarzlar</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="../pages/tasks.html" class="nav-link" data-bs-toggle="tooltip" data-bs-placement="right"
               title="Vazifalar">
                <i class="fa-solid fa-list-check"></i> <span style="margin-left: 10px;"> Vazifalar</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="../pages/products.html" class="nav-link" data-bs-toggle="tooltip" data-bs-placement="end"
               title="Mahsulotlar">
                <i class="fa-solid fa-shop"></i><span style="margin-left: 10px;"> Mahsulotlar</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="../pages/customers.html" class="nav-link" data-bs-toggle="tooltip" data-bs-placement="end"
               title="Mijozlar">
                <i class="fa fa-users"></i><span style="margin-left: 10px;"> Mijozlar</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="../pages/partners.html" class="nav-link" data-bs-toggle="tooltip" data-bs-placement="end"
               title="Hamkorlar">
                <i class="fa-solid fa-user-group"></i><span style="margin-left: 10px;"> Hamkorlar</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="../pages/payment.html" class="nav-link" data-bs-toggle="tooltip" data-bs-placement="end"
               title="To'lovlar">
                <i class="fa-solid fa-wallet"></i><span style="margin-left: 10px;"> To'lovlar</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="../pages/sale.html" class="nav-link" data-bs-toggle="tooltip" data-bs-placement="end"
               title="Sotuv">
                <i class="fa-solid fa-tag"></i><span style="margin-left: 10px;">Sotuv</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="../pages/popular.html" class="nav-link" data-bs-toggle="tooltip" data-bs-placement="end"
               title="Ommabop">
                <i class="fa-solid fa-user-check"></i><span style="margin-left: 10px;">Ommabop</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="../pages/chat.html" class="nav-link" data-bs-toggle="tooltip" data-bs-placement="end"
               title="Aloqa">
                <i class="fa-solid fa-phone-volume"></i><span style="margin-left: 10px;"> Aloqa</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="/loiha/login.html" class="nav-link text-danger" data-target="#exitModal" data-bs-toggle="tooltip"
               title="Hisobdan chiqish">
                <i class="fa-solid fa-right-from-bracket"></i> <span style="margin-left: 10px;"> Chiqish</span>
            </a>
        </li>
    </ul>
</div>

<!-- Main Content -->
<div class="content">
    <h1>Vazifalar</h1>

    <div class="table-wrapper">
        <div class="p-3 border-bottom d-flex justify-content-between align-items-center gap-3">
            <div class="d-flex gap-2">
                <input type="text" class="form-control" id="searchInput" placeholder="Qidirish...">
            </div>
            <div class="d-flex gap-2">
                <button class="btn btn-primary" id="createBtn">+ <b>Yaratish</b></button>
                <button class="btn btn-danger delete-btn" id="deleteBtn"><i class="fa-solid fa-trash"></i></button>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-hover mb-0">
                <thead>
                <tr>
                    <th class="checkbox-cell">
                        <input type="checkbox" class="form-check-input" id="selectAll">
                    </th>
                    <th data-sort="id">ID ↕</th>
                    <th data-sort="name">Ism ↕</th>
                    <th data-sort="benefit">Lavozim ↕</th>
                    <th data-sort="damage">Telefon raqam ↕</th>
                    <th data-sort="income">Summasi ↕</th>
                    <th data-sort="branch">Filial ↕</th>
                    <th data-sort="income">Vazifa ↕</th>
                    <th data-sort="income">Berilgan sana ↕</th>
                    <th data-sort="income">Topshirish sanasi ↕</th>
                    <th data-sort="edit">Tahrirlash</th>
                    <th data-sort="view">Ko'rish</th>
                </tr>
                </thead>
                <tbody class="tbody-tasks">
                <tr>
                    <td>
                        <input type="checkbox" class="form-check-input">
                    </td>
                    <td>1</td>
                    <td>Viktor</td>
                    <td>Sotuvchi</td>
                    <td>+998901234567</td>
                    <td>1,000,000</td>
                    <td>Sariosiyo</td>
                    <td>2023-01-01</td>
                    <td>2023-01-10</td>
                    <td>Vazifa tafsilotlari</td>
                    <td>
                        <button class="btn btn-warning btn-sm edit-btn" data-id="${item.id}">
                            <i class="fas fa-pen"></i>
                        </button>
                    </td>
                    <td>
                        <button class="btn btn-info btn-sm view-btn" data-id="${item.id}">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="p-3 border-top d-flex justify-content-center" id="pagination"></div>
    </div>

    <!-- Task Modal -->
    <div class="modal fade" id="taskModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Vazifa Tafsilotlari</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Task details will be populated here -->
                    <p id="taskDetails"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Yopish</button>
                </div>
            </div>
        </div>
    </div>

    <!-- View Task Modal -->
    <div class="modal fade" id="viewTaskModal" tabindex="-1" aria-labelledby="viewTaskModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="viewTaskModalLabel">Vazifa Tafsilotlari</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="taskTitle" class="mb-3"></p>
                    <p id="taskPosition" class="mb-3"></p>
                    <p id="taskPhone" class="mb-3"></p>
                    <p id="taskPrice" class="mb-3"></p>
                    <p id="taskBranch" class="mb-3"></p>
                    <p id="taskDetails" class="mb-3"></p>
                    <p id="taskIssuedDate" class="mb-3"></p>
                    <p id="taskReturnDate" class="mb-3"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Yopish</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Task Modal -->
    <div class="modal fade" id="editTaskModal" tabindex="-1" aria-labelledby="editTaskModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editTaskModalLabel">Vazifani Tahrirlash</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="input-control">
                        <div>
                            <div class="mb-3">
                                <select id="workerSelect" class="form-control">
                                    <option value="">Ishchini tanlang</option>
                                    <option value="1">Ali</option>
                                    <option value="2">Vali</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Ism</label>
                                <input type="text" class="form-control" id="editNameInput">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Lavozim</label>
                                <input type="text" class="form-control" id="editPositionInput">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Telefon raqam</label>
                                <input type="text" class="form-control" id="editPhoneInput">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Filial</label>
                                <input type="text" class="form-control" id="editBranchInput">
                            </div>
                        </div>
                        <div>
                            <div class="mb-3">
                                <label class="form-label">Summasi</label>
                                <input type="number" class="form-control" id="editPriceInput">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Vazifa</label>
                                <textarea class="form-control" id="editTaskInput"></textarea>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Berilgan sana</label>
                                <input type="date" class="form-control" id="editIssuedDateInput">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Topshirish sanasi</label>
                                <input type="date" class="form-control" id="editReturnDateInput">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Bekor qilish</button>
                    <button type="button" class="btn btn-primary" id="saveEditBtn">Saqlash</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="createModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Yangi vazifa qo'shish</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="input-control">

                        <div>
                            <div class="mb-3">
                                <label class="form-label" for="worker">Ishchini tanlang</label>
                                <select id="worker" class="form-control">
                                    <!-- Bu yerda ishchilar ro'yxati bo'ladi-->
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Ism</label>
                                <input type="text" class="form-control" id="nameInput" placeholder="Viktor">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Lavozim </label>
                                <input type="text" class="form-control" id="DebtNumber" placeholder="Sotuvchi">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Telefon raqam</label>
                                <input type="number" class="form-control" id="receiptDay" placeholder="+998"
                                       value="+998">
                            </div>
                            <div class="mb-3">
                                <label class="form-label" for="branch">Filial</label>
                                <input type="text" class="form-control" id="branch" placeholder="Sariosiyo">
                            </div>
                        </div>
                        <div>
                            <div class="mb-3">
                                <label class="form-label">Summasi</label>
                                <input type="number" class="form-control" id="returnDay" placeholder="1.000.000">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Vazifa haqida</label>
                                <textarea class="form-control" id="task" placeholder="Vazifa"></textarea>
                            </div>
                            <div class="mb-3">
                                <label class="form-label" for="starDate">Berilgan sana</label>
                                <input type="date" class="form-control" id="starDate">
                            </div>
                            <div class="mb-3">
                                <label class="form-label" for="deadline">Topshirish sanasi</label>
                                <input type="date" class="form-control" id="deadline">
                            </div>
                        </div>

                    </div>


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Bekor qilish</button>
                    <button type="button" class="btn btn-primary save">Saqlash</button>
                </div>
            </div>
        </div>
    </div>


</div>

<!--AXIOS-->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/js/all.min.js"
        integrity="sha512-b+nQTCdtTBIRIbraqNEwsjB6UvL3UEMkXnhzd8awtCYh0Kcsjl9uEgwVFVbhoj3uu1DO1ZMacNvLoyJJiNfcvg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type="module" src="./js/tasks.js"></script>
<script src="./js/dark-mode.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const taskButtons = document.querySelectorAll('.task-btn');
        taskButtons.forEach(button => {
            button.addEventListener('click', function () {
                const taskDetails = 'Here will be the task details'; // Replace with actual task details
                document.getElementById('taskDetails').innerText = taskDetails;
            });
        });
    });
</script>

</body>
</html>